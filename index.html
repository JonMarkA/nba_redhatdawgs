<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NBA Postseason Oracle 2025–26 | GSI Analytics</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    a { text-decoration: none; color: inherit; }
    button { cursor: pointer; border: none; outline: none; background: none; font-family: inherit; }

    :root {
      --black:      #000000;
      --white:      #ffffff;
      --gray-50:    #fafafa;
      --gray-100:   #f5f5f5;
      --gray-200:   #e8e8e8;
      --gray-300:   #d4d4d4;
      --gray-400:   #a3a3a3;
      --gray-600:   #525252;
      --gray-800:   #262626;
      --text:       #111111;
      --text-soft:  #525252;
      --text-muted: #a3a3a3;
      --border:     #e8e8e8;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--gray-100);
      color: var(--text);
      font-size: 14px;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }

    /* ── NAV ── */
    .main-nav {
      background: var(--black);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .nav-inner {
      max-width: 1280px;
      margin: 0 auto;
      height: 56px;
      padding: 0 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .nav-title {
      font-size: 13px;
      font-weight: 800;
      color: var(--white);
      text-transform: uppercase;
      letter-spacing: 1.5px;
    }
    .nav-meta {
      font-size: 11px;
      color: #555;
      letter-spacing: 0.4px;
      font-weight: 500;
    }

    /* ── PAGE HEADER ── */
    .page-header {
      background: var(--white);
      border-bottom: 1px solid var(--border);
    }
    .page-header-inner {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 24px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .page-title {
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.6px;
      color: var(--text);
    }
    .page-meta {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      color: var(--text-muted);
      letter-spacing: 0.3px;
    }
    .live-dot {
      width: 5px; height: 5px;
      border-radius: 50%;
      background: var(--black);
      animation: blink 1.6s ease-in-out infinite;
    }
    @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.1} }

    /* ── FILTER BAR ── */
    .filter-bar {
      background: var(--white);
      border-bottom: 1px solid var(--border);
    }
    .filter-bar-inner {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 24px;
      height: 40px;
      display: flex;
      align-items: center;
      gap: 0;
    }
    .conf-tabs { display: flex; height: 100%; }
    .conf-tab {
      height: 100%;
      padding: 0 16px;
      font-size: 11px;
      font-weight: 700;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
      transition: all 0.1s;
      display: flex;
      align-items: center;
    }
    .conf-tab:hover { color: var(--text); }
    .conf-tab.active { color: var(--black); border-bottom-color: var(--black); }

    /* ── LAYOUT ── */
    .layout {
      max-width: 1280px;
      margin: 0 auto;
      padding: 20px 24px;
    }

    /* ── TABLE CARD ── */
    .table-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 2px;
      overflow: hidden;
    }
    .standings-table {
      width: 100%;
      border-collapse: collapse;
    }

    /* Head */
    .standings-table thead tr {
      background: var(--gray-50);
      border-bottom: 1px solid var(--gray-200);
    }
    .standings-table thead th {
      padding: 10px 12px;
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      text-align: center;
      white-space: nowrap;
    }
    .standings-table thead th.th-team { text-align: left; padding-left: 16px; }
    .standings-table thead th.th-oracle {
      color: var(--black);
      position: relative;
    }
    .standings-table thead th.th-oracle::after {
      content: '';
      position: absolute;
      bottom: 0; left: 50%;
      transform: translateX(-50%);
      width: 20px; height: 2px;
      background: var(--black);
    }

    /* Body */
    .standings-table tbody tr {
      border-bottom: 1px solid var(--gray-100);
      transition: background 0.08s;
    }
    .standings-table tbody tr:last-child { border-bottom: none; }
    .standings-table tbody tr:hover { background: var(--gray-50); }
    .standings-table tbody tr.playoff-zone { background: #fafafa; }
    .standings-table tbody tr.playoff-zone:hover { background: var(--gray-100); }

    .standings-table tbody td {
      padding: 11px 12px;
      text-align: center;
      font-size: 13px;
      color: var(--text-soft);
      white-space: nowrap;
    }
    .standings-table tbody td.td-team { text-align: left; padding-left: 16px; }

    /* Rank */
    .rank-num { font-size: 11px; font-weight: 600; color: var(--text-muted); }
    .rank-num.seed { color: var(--black); font-weight: 800; }

    /* Team cell */
    .team-cell { display: flex; align-items: center; gap: 10px; min-width: 190px; }
    .team-initials {
      width: 26px; height: 26px;
      border-radius: 50%;
      background: var(--black);
      color: var(--white);
      display: flex; align-items: center; justify-content: center;
      font-size: 7.5px;
      font-weight: 800;
      letter-spacing: 0.3px;
      flex-shrink: 0;
    }
    .team-name-text { font-size: 13px; font-weight: 700; color: var(--text); }

    /* Stat styles */
    .td-bold { font-weight: 700; color: var(--text); }
    .td-dim  { color: var(--text-muted); font-weight: 400; }
    .td-pos  { font-weight: 700; color: var(--text); }
    .td-neg  { font-weight: 400; color: var(--text-muted); }

    /* Oracle column */
    .prob-cell {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      min-width: 80px;
    }
    .prob-pct { font-size: 13px; font-weight: 800; color: var(--black); line-height: 1; }
    .prob-pct.faded { color: var(--text-muted); font-weight: 500; }
    .prob-track {
      width: 56px; height: 3px;
      background: var(--gray-200);
      border-radius: 2px;
      overflow: hidden;
    }
    .prob-fill {
      height: 100%;
      background: var(--black);
      border-radius: 2px;
      transition: width 1.2s cubic-bezier(.22,.61,.36,1);
    }
    .prob-fill.faded { background: var(--gray-300); }

    /* Status pill */
    .status-pill {
      display: inline-block;
      font-size: 9.5px;
      font-weight: 700;
      letter-spacing: 0.4px;
      text-transform: uppercase;
      padding: 3px 7px;
      border-radius: 2px;
      white-space: nowrap;
    }
    .pill-in  { background: var(--black); color: var(--white); }
    .pill-mid { background: var(--gray-200); color: var(--gray-800); border: 1px solid var(--gray-300); }
    .pill-out { color: var(--text-muted); border: 1px solid var(--gray-200); }

    /* Cutoff row */
    .cutoff-row td { padding: 0 !important; border: none !important; }
    .cutoff-line {
      height: 24px;
      background: var(--gray-50);
      border-top: 1px dashed var(--gray-300);
      border-bottom: 1px dashed var(--gray-300);
      display: flex;
      align-items: center;
      padding: 0 16px;
      gap: 10px;
      font-size: 9px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: var(--text-muted);
    }
    .cutoff-line::before, .cutoff-line::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--gray-200);
    }

    /* Table footer */
    .table-footer {
      padding: 10px 16px;
      border-top: 1px solid var(--border);
      background: var(--gray-50);
      font-size: 10.5px;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* State rows */
    .state-row td { padding: 48px 20px !important; text-align: center; }
    .loader {
      width: 16px; height: 16px;
      border: 2px solid var(--gray-200);
      border-top-color: var(--black);
      border-radius: 50%;
      animation: spin .7s linear infinite;
      display: inline-block;
      vertical-align: middle;
      margin-right: 8px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ── FOOTER ── */
    .site-footer {
      background: var(--black);
      color: #444;
      padding: 28px 0 20px;
      margin-top: 32px;
    }
    .footer-inner { max-width: 1280px; margin: 0 auto; padding: 0 24px; }
    .footer-copy {
      font-size: 10.5px;
      color: #333;
      line-height: 1.8;
    }

    /* ── RESPONSIVE ── */
    @media (max-width: 960px) {
      .standings-table th:nth-child(n+9),
      .standings-table td:nth-child(n+9) { display: none; }
    }
    @media (max-width: 640px) {
      .layout { padding: 12px; }
      .standings-table th:nth-child(n+7),
      .standings-table td:nth-child(n+7) { display: none; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<header class="main-nav">
  <nav class="nav-inner">
    <span class="nav-title">NBA Postseason Oracle</span>
    <span class="nav-meta">Global Sports Insights · 2025–26</span>
  </nav>
</header>

<!-- PAGE HEADER -->
<div class="page-header">
  <div class="page-header-inner">
    <span class="page-title">Playoff Probability Standings</span>
    <span class="page-meta">
      <span class="live-dot"></span>
      Azure AutoML · VotingEnsemble
    </span>
  </div>
</div>

<!-- FILTER BAR -->
<div class="filter-bar">
  <div class="filter-bar-inner">
    <div class="conf-tabs">
      <button class="conf-tab active" onclick="switchConf('east', this)">Eastern Conference</button>
      <button class="conf-tab" onclick="switchConf('west', this)">Western Conference</button>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="layout">
  <div class="table-card">
    <table class="standings-table">
      <thead>
        <tr>
          <th style="width:36px">#</th>
          <th class="th-team">Team</th>
          <th>W</th>
          <th>L</th>
          <th>PCT</th>
          <th>GB</th>
          <th>NET RTG</th>
          <th>DEF RTG</th>
          <th>3PT%</th>
          <th class="th-oracle">Oracle %</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <tr class="state-row">
          <td colspan="11">
            <span class="loader"></span>
            <span style="font-size:13px;color:#a3a3a3">Loading predictions from Azure...</span>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="table-footer">
      <span id="footerNote">Powered by Azure AutoML · VotingEnsemble · predictions.json</span>
      <span id="footerTime"></span>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-copy">
      © 2026 Global Sports Insights (GSI). Academic project — Azure Cloud Computing Case Study.
      NBA and related marks are trademarks of NBA Properties, Inc. Non-commercial educational use only.
    </div>
  </div>
</footer>

<script>
const PREDICTIONS_URL = 'predictions.json';

let currentConf = 'east';
let oracleData  = null;

const abbr = name =>
  name.trim().split(' ').map(w => w[0]).join('').slice(0, 3).toUpperCase();

const winPct = (w, l) =>
  (w / (w + l)).toFixed(3).replace(/^0/, '');

const gamesBack = (lw, ll, tw, tl) => {
  const d = ((lw - tw) + (tl - ll)) / 2;
  return d === 0 ? '—' : d.toFixed(1);
};

const statusPill = p => {
  if (p >= 55) return `<span class="status-pill pill-in">Playoff</span>`;
  if (p >= 30) return `<span class="status-pill pill-mid">Bubble</span>`;
  return `<span class="status-pill pill-out">Lottery</span>`;
};

function render(conf) {
  if (!oracleData) return;

  const teams = [...oracleData.teams]
    .filter(t => t.conference.toLowerCase() === conf)
    .sort((a, b) => b.playoffProbability - a.playoffProbability);

  const leader = teams[0];
  const tbody  = document.getElementById('tableBody');
  tbody.innerHTML = '';

  teams.forEach((team, i) => {
    const rank   = i + 1;
    const isTop8 = rank <= 8;
    const faded  = team.playoffProbability < 30;
    const netSign = team.netRating >= 0 ? '+' : '';

    if (rank === 9) {
      const cut = document.createElement('tr');
      cut.className = 'cutoff-row';
      cut.innerHTML = `<td colspan="11">
        <div class="cutoff-line">Playoff cutoff · top 8 advance</div>
      </td>`;
      tbody.appendChild(cut);
    }

    const tr = document.createElement('tr');
    if (isTop8) tr.classList.add('playoff-zone');

    tr.innerHTML = `
      <td style="text-align:center">
        <span class="rank-num ${isTop8 ? 'seed' : ''}">${rank}</span>
      </td>
      <td class="td-team">
        <div class="team-cell">
          <div class="team-initials">${abbr(team.name)}</div>
          <span class="team-name-text">${team.name}</span>
        </div>
      </td>
      <td class="td-bold">${team.wins}</td>
      <td class="td-dim">${team.losses}</td>
      <td class="td-bold">${winPct(team.wins, team.losses)}</td>
      <td class="td-dim">${gamesBack(leader.wins, leader.losses, team.wins, team.losses)}</td>
      <td class="${team.netRating >= 0 ? 'td-pos' : 'td-neg'}">${netSign}${team.netRating}</td>
      <td class="${team.defRating < 112 ? 'td-bold' : 'td-dim'}">${team.defRating}</td>
      <td style="color:#525252;font-weight:500">${(team.threePctg * 100).toFixed(1)}%</td>
      <td>
        <div class="prob-cell">
          <span class="prob-pct ${faded ? 'faded' : ''}">${team.playoffProbability}%</span>
          <div class="prob-track">
            <div class="prob-fill ${faded ? 'faded' : ''}"
                 style="width:0%" data-w="${team.playoffProbability}"></div>
          </div>
        </div>
      </td>
      <td>${statusPill(team.playoffProbability)}</td>
    `;
    tbody.appendChild(tr);
  });

  requestAnimationFrame(() =>
    setTimeout(() =>
      tbody.querySelectorAll('.prob-fill[data-w]').forEach(el => {
        el.style.width = el.dataset.w + '%';
      }), 60
    )
  );
}

function switchConf(conf, btn) {
  currentConf = conf;
  document.querySelectorAll('.conf-tab').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  render(conf);
}

function showError(msg) {
  document.getElementById('tableBody').innerHTML = `
    <tr class="state-row"><td colspan="11">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
           stroke="#a3a3a3" stroke-width="2" style="vertical-align:middle;margin-right:8px">
        <circle cx="12" cy="12" r="10"/>
        <line x1="12" y1="8" x2="12" y2="12"/>
        <line x1="12" y1="16" x2="12.01" y2="16"/>
      </svg>
      <span style="font-size:13px;color:#a3a3a3">${msg}</span>
    </td></tr>`;
  document.getElementById('footerNote').textContent =
    'Failed to load — check Azure container access and CORS settings';
}

async function init() {
  try {
    const res = await fetch(PREDICTIONS_URL, { cache: 'no-cache' });
    if (!res.ok) throw new Error(`HTTP ${res.status} ${res.statusText}`);
    oracleData = await res.json();
  } catch (err) {
    console.error('[Oracle]', err);
    showError(`Could not load predictions: ${err.message}`);
    return;
  }

  render(currentConf);

  const updated = new Date(oracleData.generatedAt)
    .toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

  document.getElementById('footerNote').textContent =
    `Azure AutoML · ${oracleData.model} · AUC ${oracleData.aucScore}`;
  document.getElementById('footerTime').textContent = `Updated ${updated}`;
}

init();
</script>
</body>
</html>